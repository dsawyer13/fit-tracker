{"ast":null,"code":"import { API_BASE_URL } from \"../config\"; //figure out how to get this posted to the db and state\n\nexport var ADD_EXERCISE_SUCCESS = \"ADD_EXERCISE_SUCCESS\";\nexport var addExerciseSuccess = function addExerciseSuccess(name, weight, sets, reps) {\n  return {\n    type: ADD_EXERCISE_SUCCESS,\n    name: name,\n    weight: weight,\n    sets: sets,\n    reps: reps\n  };\n};\nexport var addExercise = function addExercise(id, exercise) {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL, \"/\").concat(id), {\n      method: \"put\",\n      body: exercise\n    }).then(function (res) {\n      if (res.ok) {\n        dispatch(fetchWorkouts());\n      }\n    });\n  };\n};\nexport var ADD_WORKOUT_SUCCESS = \"ADD_WORKOUT_SUCCESS\";\nexport var addWorkoutSuccess = function addWorkoutSuccess(workout) {\n  return {\n    type: ADD_WORKOUT_SUCCESS,\n    workout: workout\n  };\n};\nexport var addWorkout = function addWorkout(exercises) {\n  return function (dispatch) {\n    fetch(API_BASE_URL, {\n      method: \"post\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        exercises: exercises\n      })\n    }).then(function (res) {\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n\n      return res.json();\n    }).then(function (workout) {\n      dispatch(addWorkoutSuccess(workout));\n      dispatch(fetchWorkouts());\n    });\n  };\n};\nexport var FETCH_WORKOUTS_SUCCESS = \"FETCH_WORKOUTS_SUCCESS\";\nexport var fetchWorkoutsSuccess = function fetchWorkoutsSuccess(workouts) {\n  return {\n    type: FETCH_WORKOUTS_SUCCESS,\n    workouts: workouts\n  };\n};\nexport var fetchWorkouts = function fetchWorkouts() {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL), {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    }).then(function (res) {\n      console.log(res);\n\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n\n      return res.json();\n    }).then(function (data) {\n      var workouts = {\n        workouts: data\n      };\n      dispatch(fetchWorkoutsSuccess(workouts));\n    });\n  };\n};\nexport var deleteWorkout = function deleteWorkout(id) {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL, \"/\").concat(id), {\n      method: \"delete\"\n    }).then(function (res) {\n      if (res.ok) {\n        dispatch(fetchWorkouts());\n      }\n    });\n  };\n};\nexport var deleteExercise = function deleteExercise(id) {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL, \"/exercise/\").concat(id), {\n      method: \"delete\"\n    }).then(function (res) {\n      if (res.ok) {\n        dispatch(fetchWorkouts());\n      }\n    });\n  };\n};\nexport var editExercise = function editExercise(exercise, eID, wID) {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL, \"/\").concat(wID, \"/\").concat(eID), {\n      method: \"put\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        exercise: exercise\n      })\n    }).then(function (res) {\n      if (res.ok) {\n        dispatch(fetchWorkouts());\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/dylan/Desktop/projects/fit-tracker/src/actions/index.js"],"names":["API_BASE_URL","ADD_EXERCISE_SUCCESS","addExerciseSuccess","name","weight","sets","reps","type","addExercise","id","exercise","dispatch","fetch","method","body","then","res","ok","fetchWorkouts","ADD_WORKOUT_SUCCESS","addWorkoutSuccess","workout","addWorkout","exercises","headers","JSON","stringify","Promise","reject","statusText","json","FETCH_WORKOUTS_SUCCESS","fetchWorkoutsSuccess","workouts","Accept","console","log","data","deleteWorkout","deleteExercise","editExercise","eID","wID"],"mappings":"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","sourcesContent":["import { API_BASE_URL } from \"../config\";\n\n//figure out how to get this posted to the db and state\nexport const ADD_EXERCISE_SUCCESS = \"ADD_EXERCISE_SUCCESS\";\nexport const addExerciseSuccess = (name, weight, sets, reps) => ({\n  type: ADD_EXERCISE_SUCCESS,\n  name,\n  weight,\n  sets,\n  reps\n});\n\nexport const addExercise = (id, exercise) => dispatch => {\n  fetch(`${API_BASE_URL}/${id}`, {\n    method: \"put\",\n    body: exercise\n  }).then(res => {\n    if (res.ok) {\n      dispatch(fetchWorkouts());\n    }\n  });\n};\n\nexport const ADD_WORKOUT_SUCCESS = \"ADD_WORKOUT_SUCCESS\";\nexport const addWorkoutSuccess = workout => ({\n  type: ADD_WORKOUT_SUCCESS,\n  workout\n});\n\nexport const addWorkout = exercises => dispatch => {\n  fetch(API_BASE_URL, {\n    method: \"post\",\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ exercises: exercises })\n  })\n    .then(res => {\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n      return res.json();\n    })\n    .then(workout => {\n      dispatch(addWorkoutSuccess(workout));\n      dispatch(fetchWorkouts());\n    });\n};\n\nexport const FETCH_WORKOUTS_SUCCESS = \"FETCH_WORKOUTS_SUCCESS\";\nexport const fetchWorkoutsSuccess = workouts => ({\n  type: FETCH_WORKOUTS_SUCCESS,\n  workouts\n});\n\nexport const fetchWorkouts = () => dispatch => {\n  fetch(`${API_BASE_URL}`, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  })\n    .then(res => {\n      console.log(res);\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n      return res.json();\n    })\n    .then(data => {\n      let workouts = { workouts: data };\n      dispatch(fetchWorkoutsSuccess(workouts));\n    });\n};\n\nexport const deleteWorkout = id => dispatch => {\n  fetch(`${API_BASE_URL}/${id}`, {\n    method: \"delete\"\n  }).then(res => {\n    if (res.ok) {\n      dispatch(fetchWorkouts());\n    }\n  });\n};\n\nexport const deleteExercise = id => dispatch => {\n  fetch(`${API_BASE_URL}/exercise/${id}`, {\n    method: \"delete\"\n  }).then(res => {\n    if (res.ok) {\n      dispatch(fetchWorkouts());\n    }\n  });\n};\n\nexport const editExercise = (exercise, eID, wID) => dispatch => {\n  fetch(`${API_BASE_URL}/${wID}/${eID}`, {\n    method: \"put\",\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ exercise })\n  }).then(res => {\n    if(res.ok) {\n      dispatch(fetchWorkouts())\n    }\n  })\n}\n"]},"metadata":{},"sourceType":"module"}