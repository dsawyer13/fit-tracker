{"ast":null,"code":"import { API_BASE_URL } from \"../config\";\nexport var ADD_WORKOUT_SUCCESS = \"ADD_WORKOUT_SUCCESS\";\nexport var addWorkoutSuccess = function addWorkoutSuccess(workout) {\n  return {\n    type: ADD_WORKOUT_SUCCESS,\n    workout: workout\n  };\n};\nexport var addWorkout = function addWorkout(exercises) {\n  return function (dispatch) {\n    fetch(API_BASE_URL, {\n      method: \"post\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        exercises: exercises\n      })\n    }).then(function (res) {\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n\n      return res.json();\n    }).then(function (workout) {\n      dispatch(addWorkoutSuccess(workout));\n      dispatch(fetchWorkouts());\n    });\n  };\n};\nexport var FETCH_WORKOUTS_SUCCESS = \"FETCH_WORKOUTS_SUCCESS\";\nexport var fetchWorkoutsSuccess = function fetchWorkoutsSuccess(workouts) {\n  return {\n    type: FETCH_WORKOUTS_SUCCESS,\n    workouts: workouts\n  };\n};\nexport var fetchWorkouts = function fetchWorkouts() {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL), {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    }).then(function (res) {\n      console.log(res);\n\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n\n      return res.json();\n    }).then(function (data) {\n      var workouts = {\n        workouts: data\n      };\n      dispatch(fetchWorkoutsSuccess(workouts));\n    });\n  };\n};\nexport var deleteWorkout = function deleteWorkout(id) {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL, \"/\").concat(id), {\n      method: \"delete\"\n    }).then(function (res) {\n      if (res.ok) {\n        dispatch(fetchWorkouts());\n      }\n    });\n  };\n};\nexport var deleteExercise = function deleteExercise(id) {\n  return function (dispatch) {\n    fetch(\"\".concat(API_BASE_URL, \"/exercise/\").concat(id), {\n      method: \"delete\"\n    }).then(function (res) {\n      if (res.ok) {\n        dispatch(fetchWorkouts());\n      }\n    });\n  };\n};\nexport var editExercise = function editExercise(exercise, wID, eID) {\n  return function (dispatch) {\n    console.log(exercise, wID, eID);\n    fetch(\"\".concat(API_BASE_URL, \"/\").concat(wID, \"/\").concat(eID), {\n      method: \"put\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(exercise)\n    }).then(function (res) {\n      if (res.ok) {\n        dispatch(fetchWorkouts());\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/dylan/Desktop/projects/fit-tracker/client/src/actions/index.js"],"names":["API_BASE_URL","ADD_WORKOUT_SUCCESS","addWorkoutSuccess","workout","type","addWorkout","exercises","dispatch","fetch","method","headers","Accept","body","JSON","stringify","then","res","ok","Promise","reject","statusText","json","fetchWorkouts","FETCH_WORKOUTS_SUCCESS","fetchWorkoutsSuccess","workouts","console","log","data","deleteWorkout","id","deleteExercise","editExercise","exercise","wID","eID"],"mappings":"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","sourcesContent":["import { API_BASE_URL } from \"../config\";\n\n\nexport const ADD_WORKOUT_SUCCESS = \"ADD_WORKOUT_SUCCESS\";\nexport const addWorkoutSuccess = workout => ({\n  type: ADD_WORKOUT_SUCCESS,\n  workout\n});\n\nexport const addWorkout = exercises => dispatch => {\n  fetch(API_BASE_URL, {\n    method: \"post\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ exercises: exercises })\n  })\n    .then(res => {\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n      return res.json();\n    })\n    .then(workout => {\n      dispatch(addWorkoutSuccess(workout));\n      dispatch(fetchWorkouts());\n    });\n};\n\nexport const FETCH_WORKOUTS_SUCCESS = \"FETCH_WORKOUTS_SUCCESS\";\nexport const fetchWorkoutsSuccess = workouts => ({\n  type: FETCH_WORKOUTS_SUCCESS,\n  workouts\n});\n\nexport const fetchWorkouts = () => dispatch => {\n  fetch(`${API_BASE_URL}`, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  })\n    .then(res => {\n      console.log(res);\n      if (!res.ok) {\n        return Promise.reject(res.statusText);\n      }\n      return res.json();\n    })\n    .then(data => {\n      let workouts = { workouts: data };\n      dispatch(fetchWorkoutsSuccess(workouts));\n    });\n};\n\nexport const deleteWorkout = id => dispatch => {\n  fetch(`${API_BASE_URL}/${id}`, {\n    method: \"delete\"\n  }).then(res => {\n    if (res.ok) {\n      dispatch(fetchWorkouts());\n    }\n  });\n};\n\nexport const deleteExercise = id => dispatch => {\n  fetch(`${API_BASE_URL}/exercise/${id}`, {\n    method: \"delete\"\n  }).then(res => {\n    if (res.ok) {\n      dispatch(fetchWorkouts());\n    }\n  });\n};\n\nexport const editExercise = (exercise, wID, eID) => dispatch => {\n  console.log(exercise, wID, eID);\n  fetch(`${API_BASE_URL}/${wID}/${eID}`, {\n    method: \"put\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(exercise)\n  }).then(res => {\n    if (res.ok) {\n      dispatch(fetchWorkouts());\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"module"}